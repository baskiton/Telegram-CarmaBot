# Telegram CarmaBot

Бот для управления "кармой" пользователей телеграм-чатов.
https://t.me/CarmasBotChat

Чтобы изменить карму другому пользователю, ответьте на его сообщение через
"reply"(ответить) текстом "+" или "спасибо" для повышения кармы, или "-"
для понижения. Изменить карму себе нельзя! Не злоупотребляйте "минусами",
иначе администратор может вас заблокировать.

Доступные команды:
* `/start` - Начать работу с ботом (рекомендуется вызывать в группах перед
началом использования)
* `/help` - Получить список доступных команд

Команды для групповых чатов:
* `/stats` - Топ пользователей по карме
* `/your_stat` - Твоя карма
* `/block` - Заблокировать пользователя (только для администраторов)
* `/unblock` - Разблокировать пользователя (только для администраторов)
* `/delete` - сбросить/удалить данные по чату (только для администраторов)

Команды для личного чата с ботом:
* `/your_stat` - Твоя карма в чатах.

## Данные
Для хранения данных и доступа к ним используется PostgreSQL.

Для каждой группы, включившей бота, создается собственная таблица с именем
в виде `id` группы. Таблица содержит следующие данные:
* `user_id` - идентификатор пользователя Telegram
* `user_name` - username пользователя Telegram
* `name` - полное имя пользователя, если указано/доступно
* `carma` - коэффициент "кармы"
* `date` - дата-время последнего использования модификатора кармы
* `chat_title` - название группы
* `block` - статус блокировки пользователя (True/False)
